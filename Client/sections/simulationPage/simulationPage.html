<!--
   This file is part of Rogue Vision.

   Copyright (C) 2016 Daniel Reischl, Rene Rathmann, Peter Tan,
       Tobias Dorsch, Shefali Shukla, Vignesh Govindarajulu,
       Aleksander Penew, Abhinav Puri

   Rogue Vision is free software: you can redistribute it and/or modify
   it under the terms of the GNU Affero General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.

   Rogue Vision is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU Affero General Public License for more details.

   You should have received a copy of the GNU Affero General Public License
   along with Rogue Vision.  If not, see <http://www.gnu.org/licenses/>.
-->

<!-- This html fragment displays the Simulation Page of the system
     From here the following things can be done
     1: See which data files are on the server and which is currently running
     2: Stop the current running session and reset the database
     3: Set the settings for the next simulation
     4: Start the new simulation
     5: Upload a data file
-->

<div ng-controller="simulationPageController" layout="column" layout-align="start start">

    <!-- This displays which data file is currently being simulated and if the simulation is running or is stopped-->
    <simulationInformation layout="row" layout-align="start center">
        <p>Current Data File: "{{currentDataFile}}" - {{currentDataFileRunning}}</p>
    </simulationInformation>

    <!-- Create a Dropdown for the different data files and preselects the current file if it can find it in the array -->
    <selectDataFile layout="row" layout-align="start center"> Select data file:
        <select ng-model="selectedDataFile">
            <option ng-repeat="x in dataFileNames">{{x}}</option>
        </select>
    </selectDataFile>
    <!-- In these four forms the user types in the amount of carriers and the three different wait times for the simulation
    label is displaying the text
    input is handling the input information and saving it to the controller in the variable of ng-model
    div is for displaying the error text if the text is not entered correctly
   -->
    <form name="carriersForm">
        <label>Amount of carriers:
            <input type="number" name="input" ng-model="amountOfCarriers" min="1" max="999" required></input>
        </label>

        <div role="alert">
            <span class="error" ng-show="simulationInformations.input.$error.required"> Required!</span>
            <span class="error" ng-show="simulationInformations.input.$error.number"> Not valid number!</span>
        </div>
    </form>
    <form name="timeForm1">
        <label>Wait time compression (in s):
           <input type="number" name="input" ng-model="waitForCompression" ng-model="example" min="0" max="999" required ></input>
        </label>

        <div role="alert">
            <span class="error" ng-show="timeForm1.input.$error.required"> Required!</span>
            <span class="error" ng-show="timeForm1.input.$error.number"> Not valid number!</span>
        </div>
    </form>

    <form name="timeForm2">
        <label>Wait time for first data load (in s):
           <input type="number" name="input" ng-model="waitForFirstDataLoad" ng-model="example" min="0" max="999" required ></input>
        </label>

        <div role="alert">
            <span class="error" ng-show="timeForm2.input.$error.required"> Required!</span>
            <span class="error" ng-show="timeForm2.input.$error.number"> Not valid number!</span>
        </div>
    </form>

    <form name="timeForm3">
        <label>Wait time for data reload (in s):
           <input type="number" name="input" ng-model="waitForDataReload" ng-model="example" min="0" max="999" required ></input>
        </label>

        <div role="alert">
            <span class="error" ng-show="timeForm3.input.$error.required"> Required!</span>
            <span class="error" ng-show="timeForm3.input.$error.number"> Not valid number!</span>
        </div>
    </form>

    <!-- Two buttons for starting and stopping the simulation -->
    <body layout="row" layout-align="center center">
        <button ng-click="startSimulation()">Start Simulation</button>
        <button ng-click="stopSimulation()">Stop Simulation</button>
    </body>

</div>